---
title: "MSDS7333-Real Time Location Systems"
author: "Sachin Chavan"
date: "01/17/2021"
output:
  html_document:
    code_folding: show
    df_print: paged
    highlight: zenburn
    html_theme: readable
    keep_md: yes
    number_sections: yes
    theme: journal
    toc: yes
    toc_float:
      collapsed: yes
      smooth_scroll: yes
  pdf_document:
    toc: yes
editor_options:
  chunk_output_type: inline
---



# Load Data


```r
processLine = function(x)
{
  tokens = strsplit(x, "[;=,]")[[1]]
  if (length(tokens) == 10)
    return(NULL)
  tmp = matrix(tokens[- (1:10)], ncol = 4, byrow = TRUE)
  cbind(matrix(tokens[c(2, 4, 6:8, 10)], nrow(tmp), 6, byrow = TRUE), tmp)
}

lines = txt[substr(txt, 1, 1) != "#"]
options(error = recover, warn = 1)
tmp = lapply(lines, processLine)
offline = as.data.frame(do.call("rbind", tmp),stringsAsFactors = FALSE)

names(offline) = c("time", "scanMac", "posX", "posY", "posZ",
                   "orientation", "mac", "signal",
                   "channel", "type")

numVars = c("time", "posX", "posY", "posZ",
            "orientation", "signal")
```

## Structure of the Data


```r
str(offline)
```

```
## 'data.frame':	1181628 obs. of  10 variables:
##  $ time       : chr  "1139643118358" "1139643118358" "1139643118358" "1139643118358" ...
##  $ scanMac    : chr  "00:02:2D:21:0F:33" "00:02:2D:21:0F:33" "00:02:2D:21:0F:33" "00:02:2D:21:0F:33" ...
##  $ posX       : chr  "0.0" "0.0" "0.0" "0.0" ...
##  $ posY       : chr  "0.0" "0.0" "0.0" "0.0" ...
##  $ posZ       : chr  "0.0" "0.0" "0.0" "0.0" ...
##  $ orientation: chr  "0.0" "0.0" "0.0" "0.0" ...
##  $ mac        : chr  "00:14:bf:b1:97:8a" "00:14:bf:b1:97:90" "00:0f:a3:39:e1:c0" "00:14:bf:b1:97:8d" ...
##  $ signal     : chr  "-38" "-56" "-53" "-65" ...
##  $ channel    : chr  "2437000000" "2427000000" "2462000000" "2442000000" ...
##  $ type       : chr  "3" "3" "3" "3" ...
```


## Summary


```
##      time             scanMac              posX               posY          
##  Length:1181628     Length:1181628     Length:1181628     Length:1181628    
##  Class :character   Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character   Mode  :character  
##      posZ           orientation            mac               signal         
##  Length:1181628     Length:1181628     Length:1181628     Length:1181628    
##  Class :character   Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character   Mode  :character  
##    channel              type          
##  Length:1181628     Length:1181628    
##  Class :character   Class :character  
##  Mode  :character   Mode  :character
```

## Unique MAC addresses

```r
offline %>% count(mac) %>% arrange(n)
```

<div data-pagedtable="false">
  <script data-pagedtable-source type="application/json">
{"columns":[{"label":["mac"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"02:0a:3d:06:94:88","2":"1"},{"1":"02:42:1c:4e:b5:c0","2":"1"},{"1":"02:4f:99:43:30:cd","2":"1"},{"1":"00:e0:63:82:8b:a9","2":"103"},{"1":"00:30:bd:f8:7f:c5","2":"301"},{"1":"00:04:0e:5c:23:fc","2":"418"},{"1":"02:5c:e0:50:49:de","2":"6997"},{"1":"02:b7:00:bb:a9:35","2":"7602"},{"1":"02:37:fd:3b:54:b5","2":"8732"},{"1":"00:0f:a3:39:e2:10","2":"19162"},{"1":"02:2e:58:22:f1:ac","2":"25112"},{"1":"00:0f:a3:39:e0:4b","2":"43508"},{"1":"02:64:fb:68:52:e6","2":"50852"},{"1":"02:00:42:55:31:00","2":"103887"},{"1":"00:14:bf:b1:97:81","2":"120339"},{"1":"00:14:bf:b1:97:8d","2":"121325"},{"1":"00:14:bf:b1:97:90","2":"122315"},{"1":"00:14:bf:3b:c7:c6","2":"126529"},{"1":"00:14:bf:b1:97:8a","2":"132962"},{"1":"00:0f:a3:39:dd:cd","2":"145619"},{"1":"00:0f:a3:39:e1:c0","2":"145862"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
## Unique Scanning devices

Only one device was used


```r
offline %>% count(scanMac) %>% arrange(n)
```

<div data-pagedtable="false">
  <script data-pagedtable-source type="application/json">
{"columns":[{"label":["scanMac"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"00:02:2D:21:0F:33","2":"1181628"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>


## Channels 


```r
offline %>% count(channel) %>% arrange(n)
```

<div data-pagedtable="false">
  <script data-pagedtable-source type="application/json">
{"columns":[{"label":["channel"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"2472000000","2":"418"},{"1":"2447000000","2":"99298"},{"1":"2457000000","2":"103887"},{"1":"2422000000","2":"120339"},{"1":"2442000000","2":"121325"},{"1":"2427000000","2":"122315"},{"1":"2432000000","2":"126529"},{"1":"2412000000","2":"145619"},{"1":"2437000000","2":"152124"},{"1":"2462000000","2":"189774"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
## Total Orientations

There are total 203 orientation recorded. Expected orientation in dataset are 8.


```r
offline$orientation <- as.numeric(offline$orientation)
offline %>% count(orientation) %>% arrange(orientation)
```

<div data-pagedtable="false">
  <script data-pagedtable-source type="application/json">
{"columns":[{"label":["orientation"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"0.0","2":"13328"},{"1":"0.1","2":"13771"},{"1":"0.2","2":"13666"},{"1":"0.3","2":"17914"},{"1":"0.4","2":"14628"},{"1":"0.5","2":"9703"},{"1":"0.6","2":"8280"},{"1":"0.7","2":"12032"},{"1":"0.8","2":"2959"},{"1":"0.9","2":"2493"},{"1":"1.0","2":"1785"},{"1":"1.2","2":"1860"},{"1":"1.5","2":"6064"},{"1":"2.0","2":"896"},{"1":"2.1","2":"38"},{"1":"7.9","2":"799"},{"1":"44.2","2":"51"},{"1":"44.3","2":"1039"},{"1":"44.4","2":"1968"},{"1":"44.5","2":"3434"},{"1":"44.6","2":"3294"},{"1":"44.7","2":"5848"},{"1":"44.8","2":"6780"},{"1":"44.9","2":"7240"},{"1":"45.0","2":"13921"},{"1":"45.1","2":"15189"},{"1":"45.2","2":"14815"},{"1":"45.3","2":"19218"},{"1":"45.4","2":"14068"},{"1":"45.5","2":"10081"},{"1":"45.6","2":"8032"},{"1":"45.7","2":"3594"},{"1":"45.8","2":"5441"},{"1":"45.9","2":"2518"},{"1":"46.0","2":"2855"},{"1":"46.3","2":"936"},{"1":"46.5","2":"2270"},{"1":"46.6","2":"1637"},{"1":"46.8","2":"816"},{"1":"47.6","2":"816"},{"1":"88.8","2":"35"},{"1":"89.0","2":"762"},{"1":"89.1","2":"803"},{"1":"89.2","2":"1890"},{"1":"89.4","2":"1098"},{"1":"89.5","2":"853"},{"1":"89.6","2":"1670"},{"1":"89.7","2":"2620"},{"1":"89.8","2":"7041"},{"1":"89.9","2":"11625"},{"1":"90.0","2":"11373"},{"1":"90.1","2":"15210"},{"1":"90.2","2":"6193"},{"1":"90.3","2":"26847"},{"1":"90.4","2":"17535"},{"1":"90.5","2":"16609"},{"1":"90.6","2":"9440"},{"1":"90.7","2":"4465"},{"1":"90.8","2":"1115"},{"1":"90.9","2":"1743"},{"1":"91.0","2":"3449"},{"1":"91.1","2":"878"},{"1":"91.2","2":"941"},{"1":"91.5","2":"2124"},{"1":"134.0","2":"38"},{"1":"134.2","2":"2655"},{"1":"134.3","2":"1832"},{"1":"134.4","2":"2810"},{"1":"134.5","2":"3360"},{"1":"134.6","2":"1660"},{"1":"134.7","2":"6697"},{"1":"134.8","2":"15108"},{"1":"134.9","2":"9859"},{"1":"135.0","2":"8988"},{"1":"135.1","2":"20762"},{"1":"135.2","2":"11462"},{"1":"135.3","2":"12101"},{"1":"135.4","2":"15727"},{"1":"135.5","2":"7913"},{"1":"135.6","2":"9675"},{"1":"135.7","2":"5437"},{"1":"135.8","2":"3588"},{"1":"135.9","2":"3962"},{"1":"136.0","2":"1768"},{"1":"136.3","2":"40"},{"1":"136.5","2":"113"},{"1":"136.6","2":"227"},{"1":"136.7","2":"880"},{"1":"179.2","2":"2622"},{"1":"179.3","2":"1843"},{"1":"179.4","2":"1833"},{"1":"179.5","2":"3268"},{"1":"179.6","2":"6575"},{"1":"179.7","2":"1727"},{"1":"179.8","2":"6107"},{"1":"179.9","2":"5728"},{"1":"180.0","2":"12029"},{"1":"180.1","2":"13041"},{"1":"180.2","2":"11467"},{"1":"180.3","2":"20183"},{"1":"180.4","2":"16712"},{"1":"180.5","2":"17399"},{"1":"180.6","2":"7391"},{"1":"180.7","2":"6915"},{"1":"180.8","2":"3524"},{"1":"180.9","2":"2651"},{"1":"181.0","2":"845"},{"1":"181.1","2":"881"},{"1":"181.5","2":"3036"},{"1":"182.7","2":"128"},{"1":"182.8","2":"870"},{"1":"223.4","2":"38"},{"1":"224.0","2":"235"},{"1":"224.1","2":"1089"},{"1":"224.4","2":"1797"},{"1":"224.5","2":"3887"},{"1":"224.6","2":"3441"},{"1":"224.7","2":"2394"},{"1":"224.8","2":"12205"},{"1":"224.9","2":"7500"},{"1":"225.0","2":"21169"},{"1":"225.1","2":"9954"},{"1":"225.2","2":"8991"},{"1":"225.3","2":"14971"},{"1":"225.4","2":"11955"},{"1":"225.5","2":"6023"},{"1":"225.6","2":"9558"},{"1":"225.7","2":"14261"},{"1":"225.8","2":"4296"},{"1":"225.9","2":"5253"},{"1":"226.0","2":"1948"},{"1":"226.1","2":"900"},{"1":"226.2","2":"778"},{"1":"226.3","2":"939"},{"1":"226.4","2":"842"},{"1":"226.5","2":"904"},{"1":"226.9","2":"1565"},{"1":"227.0","2":"84"},{"1":"228.1","2":"36"},{"1":"268.3","2":"116"},{"1":"268.4","2":"212"},{"1":"269.0","2":"232"},{"1":"269.2","2":"32"},{"1":"269.3","2":"2445"},{"1":"269.4","2":"1008"},{"1":"269.5","2":"3703"},{"1":"269.6","2":"5026"},{"1":"269.7","2":"3617"},{"1":"269.8","2":"4461"},{"1":"269.9","2":"10724"},{"1":"270.0","2":"8876"},{"1":"270.1","2":"14300"},{"1":"270.2","2":"11869"},{"1":"270.3","2":"12180"},{"1":"270.4","2":"21524"},{"1":"270.5","2":"15405"},{"1":"270.6","2":"3512"},{"1":"270.7","2":"7479"},{"1":"270.8","2":"4454"},{"1":"270.9","2":"6815"},{"1":"271.0","2":"3358"},{"1":"271.2","2":"1646"},{"1":"271.3","2":"770"},{"1":"271.5","2":"4405"},{"1":"271.6","2":"980"},{"1":"313.8","2":"39"},{"1":"314.0","2":"1948"},{"1":"314.2","2":"867"},{"1":"314.3","2":"895"},{"1":"314.4","2":"3887"},{"1":"314.5","2":"1947"},{"1":"314.6","2":"5337"},{"1":"314.7","2":"4949"},{"1":"314.8","2":"7971"},{"1":"314.9","2":"8077"},{"1":"315.0","2":"10660"},{"1":"315.1","2":"18975"},{"1":"315.2","2":"12552"},{"1":"315.3","2":"13583"},{"1":"315.4","2":"20220"},{"1":"315.5","2":"10162"},{"1":"315.6","2":"6447"},{"1":"315.7","2":"7074"},{"1":"315.8","2":"5467"},{"1":"315.9","2":"4823"},{"1":"316.0","2":"1654"},{"1":"316.1","2":"29"},{"1":"316.3","2":"36"},{"1":"316.5","2":"859"},{"1":"316.6","2":"780"},{"1":"316.8","2":"189"},{"1":"324.5","2":"924"},{"1":"358.3","2":"927"},{"1":"358.6","2":"141"},{"1":"358.7","2":"69"},{"1":"358.8","2":"74"},{"1":"359.1","2":"819"},{"1":"359.3","2":"841"},{"1":"359.5","2":"843"},{"1":"359.6","2":"2674"},{"1":"359.7","2":"3518"},{"1":"359.8","2":"6021"},{"1":"359.9","2":"13355"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
